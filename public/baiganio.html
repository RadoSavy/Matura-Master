<!doctype html>
<html dir="ltr" lang="bg">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
  <meta name="robots" content="NOODP">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="Matura Master">
  <meta name="google" content="notranslate">
  <meta name="mobile-web-app-capable" content="yes">
  <title>BAI –ì–∞–Ω—å–æ - AI –ê—Å–∏—Å—Ç–µ–Ω—Ç - Matura Master</title>
  <link rel="apple-touch-icon" href="https://d35aaqx5ub95lt.cloudfront.net/images/duolingo-touch-icon2.png">
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&display=swap" rel="stylesheet">
  <link rel="apple-touch-icon" href="https://d35aaqx5ub95lt.cloudfront.net/images/duolingo-touch-icon2.png">
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <style>
    :root {
      --primary-color: #4CAF50;
      --primary-dark: #3d8b40;
      --primary-light: #81C784;
      --secondary-color: #FFC107;
      --accent-color: #FF5722;
      --text-color: #333;
      --text-light: #666;
      --text-lighter: #999;
      --bg-color: #f8f8f8;
      --card-bg: #fff;
      --border-color: #e0e0e0;
      --shadow: 0 4px 12px rgba(0,0,0,0.08);
      --transition: all 0.3s ease;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body, html {
      font-family: 'Nunito', sans-serif;
      background-color: var(--bg-color);
      color: var(--text-color);
      line-height: 1.6;
      min-height: 100vh;
    }

    /* Header */
    header {
      background-color: var(--card-bg);
      height: 60px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1000;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 20px;
    }

    .logo {
      font-size: 22px;
      font-weight: 800;
      color: var(--primary-color);
      display: flex;
      align-items: center;
      gap: 10px;
      text-decoration: none;
    }

    .logo-icon {
      width: 32px;
      height: 32px;
      background-color: var(--primary-color);
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: bold;
      font-size: 18px;
    }

    .header-actions {
      display: flex;
      gap: 15px;
      align-items: center;
    }

    .header-btn {
      background: none;
      border: none;
      font-size: 20px;
      cursor: pointer;
      color: var(--text-color);
    }

    .profile-btn {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background-color: var(--primary-color);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      border: none;
      font-weight: bold;
      cursor: pointer;
    }

    /* Navigation */
    .desktop-nav {
      position: fixed;
      left: 0;
      top: 60px;
      bottom: 0;
      width: 80px;
      background-color: var(--card-bg);
      box-shadow: 2px 0 10px rgba(0,0,0,0.1);
      display: flex;
      flex-direction: column;
      padding: 15px 0;
      z-index: 999;
    }

    .desktop-nav-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 12px 0;
      text-decoration: none;
      color: var(--text-light);
      font-size: 12px;
      transition: var(--transition);
    }

    .desktop-nav-item.active {
      color: var(--primary-color);
    }

    .desktop-nav-icon {
      font-size: 22px;
      margin-bottom: 5px;
    }

    .mobile-nav {
      display: none;
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background-color: var(--card-bg);
      box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
      z-index: 1000;
    }

    /* Main Content */
    main {
      margin-left: 80px;
      margin-top: 60px;
      padding: 25px;
      min-height: calc(100vh - 60px);
      padding-bottom: 80px;
    }

    .section-header {
      margin-bottom: 25px;
    }

    .section-title {
      font-size: 14px;
      color: var(--text-light);
      margin-bottom: 5px;
    }

    .unit-title {
      font-size: 24px;
      font-weight: 800;
      color: var(--text-color);
    }

    .card {
      background-color: var(--card-bg);
      border-radius: 16px;
      padding: 20px;
      margin-bottom: 20px;
      box-shadow: var(--shadow);
    }

    .card-title {
      font-size: 18px;
      font-weight: 700;
      margin-bottom: 10px;
    }

    .card-text {
      color: var(--text-light);
      margin-bottom: 15px;
    }

    .btn {
      background-color: var(--primary-color);
      color: white;
      border: none;
      border-radius: 12px;
      padding: 10px 20px;
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
    }

    .btn:hover {
      background-color: var(--primary-dark);
      transform: translateY(-2px);
    }

    .btn-sm {
      padding: 8px 16px;
      font-size: 14px;
    }

    .progress-container {
      margin-top: 15px;
    }

    .progress-text {
      display: flex;
      justify-content: space-between;
      font-size: 14px;
      color: var(--text-light);
      margin-bottom: 5px;
    }

    .progress-bar {
      height: 8px;
      background-color: #f0f0f0;
      border-radius: 4px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      background-color: var(--primary-color);
      border-radius: 4px;
      transition: width 0.3s ease;
    }

    .quest-item {
      display: flex;
      align-items: center;
      padding: 10px 0;
      border-bottom: 1px solid var(--border-color);
    }

    .quest-item:last-child {
      border-bottom: none;
    }

    .quest-checkbox {
      width: 20px;
      height: 20px;
      border: 2px solid var(--border-color);
      border-radius: 6px;
      margin-right: 10px;
    }

    .quest-text {
      font-size: 14px;
    }

    /* Chat Container */
    .chat-container {
      display: flex;
      flex-direction: column;
      height: calc(100vh - 260px);
      min-height: 400px;
    }

    #chat {
      flex: 1;
      overflow-y: auto;
      background-color: var(--card-bg);
      border-radius: 16px;
      padding: 20px;
      box-shadow: var(--shadow);
      margin-bottom: 20px;
      display: flex;
      flex-direction: column;
      gap: 15px;
      scroll-behavior: smooth;
    }

    .message {
      max-width: 80%;
      padding: 12px 16px;
      border-radius: 18px;
      font-size: 15px;
      line-height: 1.5;
      opacity: 0;
      transform: translateY(10px);
      animation: fadeIn 0.3s ease forwards;
    }

    @keyframes fadeIn {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .message.user {
      background-color: var(--primary-light);
      align-self: flex-end;
      border-bottom-right-radius: 4px;
    }

    .message.ai {
      background-color: var(--card-bg);
      border: 1px solid var(--border-color);
      align-self: flex-start;
      border-bottom-left-radius: 4px;
    }

    /* Chat Form */
    #chat-form {
      display: flex;
      gap: 10px;
      background-color: var(--card-bg);
      padding: 15px;
      border-radius: 16px;
      box-shadow: var(--shadow);
    }

    #chat-input {
      flex: 1;
      resize: none;
      padding: 12px 16px;
      border-radius: 16px;
      border: 1px solid var(--border-color);
      font-size: 15px;
      font-family: 'Nunito', sans-serif;
      transition: var(--transition);
      min-height: 50px;
      max-height: 150px;
    }

    #chat-input:focus {
      border-color: var(--primary-color);
      outline: none;
      box-shadow: 0 0 0 2px rgba(76, 175, 80, 0.2);
    }

    #chat-form button {
      background-color: var(--primary-color);
      color: white;
      border: none;
      border-radius: 16px;
      padding: 0 24px;
      font-weight: 700;
      cursor: pointer;
      transition: var(--transition);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    #chat-form button:hover {
      background-color: var(--primary-dark);
      transform: translateY(-2px);
    }

    /* Typing Indicator */
    .typing-indicator {
      display: flex;
      gap: 6px;
      padding: 12px 16px;
      align-self: flex-start;
      background-color: var(--card-bg);
      border: 1px solid var(--border-color);
      border-radius: 18px;
      border-bottom-left-radius: 4px;
      opacity: 0;
      transform: translateY(10px);
      animation: fadeIn 0.3s ease forwards;
    }

    .typing-dot {
      width: 8px;
      height: 8px;
      background-color: var(--primary-color);
      border-radius: 50%;
      opacity: 0.4;
      animation: typingAnimation 1.4s infinite ease-in-out;
    }

    .typing-dot:nth-child(1) { animation-delay: 0s; }
    .typing-dot:nth-child(2) { animation-delay: 0.2s; }
    .typing-dot:nth-child(3) { animation-delay: 0.4s; }

    @keyframes typingAnimation {
      0%, 60%, 100% { opacity: 0.4; transform: translateY(0); }
      30% { opacity: 1; transform: translateY(-4px); }
    }

    /* Formatted Messages */
    .formatted-message p {
      margin-bottom: 8px;
    }

    .formatted-message strong {
      color: var(--primary-color);
    }

    .formatted-message ul {
      margin-left: 20px;
      margin-bottom: 10px;
    }

    .formatted-message li {
      margin-bottom: 4px;
    }

    /* Quick Questions */
    .quick-questions-container {
      margin-bottom: 20px;
      overflow-x: auto;
      padding-bottom: 10px;
      -webkit-overflow-scrolling: touch;
    }

    .quick-questions {
      display: flex;
      gap: 10px;
      width: max-content;
      padding-bottom: 5px;
    }

    .quick-question {
      background-color: rgba(76, 175, 80, 0.1);
      color: var(--primary-dark);
      border: none;
      border-radius: 16px;
      padding: 8px 16px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
      white-space: nowrap;
      flex-shrink: 0;
    }

    .quick-question:hover {
      background-color: rgba(76, 175, 80, 0.2);
      transform: translateY(-2px);
    }

    /* Responsive */
    @media (max-width: 768px) {
      .desktop-nav {
        display: none;
      }

      main {
        margin-left: 0;
        padding-bottom: 80px;
      }

      .mobile-nav {
        display: flex;
        justify-content: space-around;
      }

      .nav-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 10px 0;
        text-decoration: none;
        color: var(--text-light);
        font-size: 12px;
      }

      .nav-item.active {
        color: var(--primary-color);
      }

      .nav-icon {
        font-size: 20px;
        margin-bottom: 2px;
      }

      .chat-container {
        height: calc(100vh - 220px);
      }

      .quick-question {
        font-size: 13px;
        padding: 6px 12px;
      }
    }
  </style>
</head>
<body>
  <header>
    <a href="courses.html" class="logo">
      <div class="logo-icon">MM</div>
      <span>Matura Master</span>
    </a>
    <div class="header-actions">
      <button class="header-btn">üîî</button>
      <button class="header-btn">üíé</button>
      <button class="profile-btn">–ò</button>
    </div>
  </header>

  <nav class="desktop-nav">
    <a href="courses.html" class="desktop-nav-item">
      <span class="desktop-nav-icon">üìö</span>
      <span>–ü—Ä–µ–¥–º–µ—Ç–∏</span>
    </a>
    <a href="baiganio.html" class="desktop-nav-item active">
      <span class="desktop-nav-icon">ü§ñ</span>
      <span>BAI –ì–∞–Ω—å–æ</span>
    </a>
    <a href="#" class="desktop-nav-item">
      <span class="desktop-nav-icon">üë§</span>
      <span>–ü—Ä–æ—Ñ–∏–ª</span>
    </a>
    <a href="login.html" class="desktop-nav-item">
      <span class="desktop-nav-icon">‚Ü©</span>
      <span>–ò–∑—Ö–æ–¥</span>
    </a>
  </nav>

  <main>
    <div class="section-header">
      <div class="section-title">AI –ê—Å–∏—Å—Ç–µ–Ω—Ç</div>
      <h1 class="unit-title">BAI –ì–∞–Ω—å–æ</h1>
    </div>

    <div class="quick-questions-container">
      <div class="quick-questions">
        <button class="quick-question">–ö–∞–∫–≤–∏ —Å–∞ –≤–∏–¥–æ–≤–µ—Ç–µ —á–∞—Å—Ç–∏—Ü–∏?</button>
        <button class="quick-question">–ö–æ–∏ —Å–∞ –æ—Å–Ω–æ–≤–Ω–∏—Ç–µ —Ç–µ–º–∏ –≤ "–ü–æ–¥ –∏–≥–æ—Ç–æ"?</button>
        <button class="quick-question">–ö–æ–∏ —Å–∞ –≥–µ—Ä–æ–∏—Ç–µ –≤ "–ù–µ–º–∏–ª–∏-–Ω–µ–¥—Ä–∞–≥–∏"?</button>
        <button class="quick-question">–ö–∞–∫–≤–∏ —Å–∞ –ø—Ä–∞–≤–∏–ª–∞—Ç–∞ –∑–∞ –ø—Ä–∞–≤–æ–ø–∏—Å –Ω–∞ "—ä" –∏ "—å"?</button>
      </div>
    </div>
    
    <div class="chat-container">
      <div id="chat" aria-live="polite" aria-label="–ß–∞—Ç —Å BAI –ì–∞–Ω—å–æ"></div>
      <form id="chat-form" aria-label="–§–æ—Ä–º–∞ –∑–∞ –≤—ä–≤–µ–∂–¥–∞–Ω–µ –Ω–∞ —Å—ä–æ–±—â–µ–Ω–∏–µ">
        <textarea id="chat-input" rows="2" placeholder="–ù–∞–ø–∏—à–∏ –≤—ä–ø—Ä–æ—Å –∫—ä–º BAI –ì–∞–Ω—å–æ..." required></textarea>
        <button type="submit" aria-label="–ò–∑–ø—Ä–∞—Ç–∏ —Å—ä–æ–±—â–µ–Ω–∏–µ"><i class="fas fa-paper-plane"></i></button>
      </form>
    </div>
  </main>

  <nav class="mobile-nav">
    <a href="courses.html" class="nav-item">
      <span class="nav-icon">üìö</span>
      <span>–ü—Ä–µ–¥–º–µ—Ç–∏</span>
    </a>
    <a href="baiganio.html" class="nav-item active">
      <span class="nav-icon">ü§ñ</span>
      <span>BAI –ì–∞–Ω—å–æ</span>
    </a>
    <a href="#" class="nav-item">
      <span class="nav-icon">üë§</span>
      <span>–ü—Ä–æ—Ñ–∏–ª</span>
    </a>
    <a href="login.html" class="nav-item">
      <span class="nav-icon">‚Ü©</span>
      <span>–ò–∑—Ö–æ–¥</span>
    </a>
  </nav>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const chat = document.getElementById('chat');
      const chatForm = document.getElementById('chat-form');
      const chatInput = document.getElementById('chat-input');
      const quickQuestions = document.querySelectorAll('.quick-question');

      const knowledgeBase = {
          // –ë—ä–ª–≥–∞—Ä—Å–∫–∏ –µ–∑–∏–∫
          "—á–∞—Å—Ç–∏—Ü–∏": {
              answer: "–ß–∞—Å—Ç–∏—Ü–∏—Ç–µ –≤ –±—ä–ª–≥–∞—Ä—Å–∫–∏—è –µ–∑–∏–∫ —Å–∞:\n1. –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª–Ω–∏ (–Ω–µ, –Ω–∏)\n2. –í—ä–∑–∫–ª–∏—Ü–∞—Ç–µ–ª–Ω–∏ (–µ—Ö, –æ—Ö, –∞—Ö)\n3. –£—Ç–≤–µ—Ä–¥–∏—Ç–µ–ª–Ω–∏ (–¥–∞, –∞–º–∏)\n4. –°—ä–µ–¥–∏–Ω–∏—Ç–µ–ª–Ω–∏ (–∏, –∞, –Ω–æ, —á–µ)\n5. –í—ä–ø—Ä–æ—Å–∏—Ç–µ–ª–Ω–∏ (–ª–∏, –¥–∞–ª–∏, –∑–∞—â–æ)",
              examples: ["–ù–µ –∏—Å–∫–∞–º –¥–∞ –æ—Ç–∏–¥–∞.", "–ï—Ö, –∫–æ–ª–∫–æ —Ö—É–±–∞–≤–æ!", "–©–µ –¥–æ–π–¥–µ—à –ª–∏ —É—Ç—Ä–µ?"]
          },
          "–ø—Ä–∞–≤–æ–ø–∏—Å –Ω–∞ –Ω–µ": {
              answer: "–ß–∞—Å—Ç–∏—Ü–∞—Ç–∞ '–Ω–µ' —Å–µ –ø–∏—à–µ:\n- –û–¢–î–ï–õ–ù–û —Å –≥–ª–∞–≥–æ–ª–∏: –Ω–µ –∏—Å–∫–∞–º, –Ω–µ —á–µ—Ç–∞\n- –°–õ–ò–¢–ù–û —Å –ø—Ä–∏–ª–∞–≥–∞—Ç–µ–ª–Ω–∏ –∏ –Ω–∞—Ä–µ—á–∏—è: –Ω–µ–∏–Ω—Ç–µ—Ä–µ—Å–µ–Ω, –Ω–µ–≤–Ω–∏–º–∞—Ç–µ–ª–Ω–æ\n–ò–∑–∫–ª—é—á–µ–Ω–∏–µ: –∫–æ–≥–∞—Ç–æ –∏–º–∞ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ—Å—Ç–∞–≤—è–Ω–µ - '–Ω–µ –≤–∏—Å–æ–∫, –∞ –Ω–∏—Å—ä–∫'",
              rules: ["–ù–µ + –≥–ª–∞–≥–æ–ª = –æ—Ç–¥–µ–ª–Ω–æ", "–ù–µ + –ø—Ä–∏–ª–∞–≥–∞—Ç–µ–ª–Ω–æ/–Ω–∞—Ä–µ—á–∏–µ = —Å–ª–∏—Ç–Ω–æ"]
          },
          "—ä –∏ —å": {
              answer: "–ü—Ä–∞–≤–æ–ø–∏—Å –Ω–∞ '—ä' –∏ '—å':\n1. '–™' —Å–µ –ø–∏—à–µ:\n- –°–ª–µ–¥ –ø—Ä–µ—Ñ–∏–∫—Å –ø—Ä–µ–¥ '—è', '—é': —Å—ä—é–∑, –æ–±–µ–∑—ä—è–∑–≤–∏–º\n- –í –∫–æ—Ä–µ–Ω–∞ –Ω–∞ –¥—É–º–∏—Ç–µ: —ä–≥—ä–ª, –º—ä–∫–∞\n2. '–¨' —Å–µ –ø–∏—à–µ:\n- –ú–µ–∂–¥—É —Å—ä–≥–ª–∞—Å–Ω–∞ –∏ '–æ': —à—å–æ–≤, –∂—å–æ–ª\n- –í –Ω—è–∫–æ–∏ —á—É–∂–¥–∏ –¥—É–º–∏: –±—É–ª—å–æ–Ω",
              examples: ["—Å—ä–∂–∞–ª—è–≤–∞–º", "–æ–±–µ–∑—ä—è–Ω–∞", "—à—å–æ–ª"]
          },
          
          // –õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞
          "–ø–æ–¥ –∏–≥–æ—Ç–æ": {
              answer: "–û—Å–Ω–æ–≤–Ω–∏ —Ç–µ–º–∏ –≤ '–ü–æ–¥ –∏–≥–æ—Ç–æ' –Ω–∞ –ò–≤–∞–Ω –í–∞–∑–æ–≤:\n1. –ë–æ—Ä–±–∞ –∑–∞ –Ω–∞—Ü–∏–æ–Ω–∞–ª–Ω–æ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ\n2. –õ—é–±–æ–≤ –∫—ä–º —Ä–æ–¥–∏–Ω–∞—Ç–∞\n3. –ñ–∏–≤–æ—Ç—ä—Ç –ø–æ –≤—Ä–µ–º–µ –Ω–∞ –æ—Å–º–∞–Ω—Å–∫–æ—Ç–æ –≤–ª–∞–¥–∏—á–µ—Å—Ç–≤–æ\n4. –ß–æ–≤–µ—à–∫–∏—Ç–µ –≤–∑–∞–∏–º–æ–æ—Ç–Ω–æ—à–µ–Ω–∏—è –≤ —Ç—Ä—É–¥–Ω–∏ –≤—Ä–µ–º–µ–Ω–∞\n–ì–ª–∞–≤–Ω–∏ –≥–µ—Ä–æ–∏: –ë–æ–π—á–æ –û–≥–Ω—è–Ω–æ–≤, –†–∞–¥–∞, –¥—è–¥–æ –ô–æ—Ü–æ",
              quotes: ["–ö–æ–π—Ç–æ –ø–∞–¥–Ω–µ –≤ –±–æ–π –∑–∞ —Å–≤–æ–±–æ–¥–∞, —Ç–æ–π –Ω–µ —É–º–∏—Ä–∞!"]
          },
          "–Ω–µ–º–∏–ª–∏-–Ω–µ–¥—Ä–∞–≥–∏": {
              answer: "–ì–µ—Ä–æ–∏ –≤ '–ù–µ–º–∏–ª–∏-–Ω–µ–¥—Ä–∞–≥–∏' –Ω–∞ –ò–≤–∞–Ω –í–∞–∑–æ–≤:\n1. –ú–∞–∫–µ–¥–æ–Ω—Å–∫–∏ ‚Äì —Å–º–µ–ª –∏ –±—É–µ–Ω —Ö—ä—à. –û–±–∏—á–∞ –±–∏—Ç–∫–∏—Ç–µ, –Ω–æ –µ –∏ –µ–º–æ—Ü–∏–æ–Ω–∞–ª–µ–Ω. –ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–≤–∞ –±–æ—Ä–±–µ–Ω–∏—è –¥—É—Ö –Ω–∞ –±—ä–ª–≥–∞—Ä—Å–∫–∏—è —Ä–µ–≤–æ–ª—é—Ü–∏–æ–Ω–µ—Ä.\n2. –ë—Ä—ä—á–∫–æ–≤ ‚Äì –ë—Ä—ä—á–∫–æ–≤ –µ –º–ª–∞–¥, –Ω–∞–∏–≤–µ–Ω, –Ω–æ –∏–¥–µ–∞–ª–∏—Å—Ç–∏—á–µ–Ω —Ö—ä—à. –ü—ä—Ä–≤–æ —Å–µ –≤—ä–∑—Ö–∏—â–∞–≤–∞ –Ω–∞ —Ö—ä—à–æ–≤–µ—Ç–µ, –Ω–æ –ø–æ—Å–ª–µ –æ—Å—ä–∑–Ω–∞–≤–∞ —Ç—Ä—É–¥–Ω–∞—Ç–∞ –∏–º —Å—ä–¥–±–∞. –°–∏–º–≤–æ–ª –µ –Ω–∞ –Ω–æ–≤–æ—Ç–æ –ø–æ–∫–æ–ª–µ–Ω–∏–µ –∏ –Ω–∞–¥–µ–∂–¥–∞—Ç–∞ –∑–∞ –±—ä–¥–µ—â–µ—Ç–æ. –ü–æ–º–∞–≥–∞ –Ω–∞ –°—Ç—Ä–∞–Ω–¥–∂–∞—Ç–∞ –≤ –ø–æ—Å–ª–µ–¥–Ω–∏—Ç–µ –º—É –º–∏–≥–æ–≤–µ.\n3. –°—Ç—Ä–∞–Ω–¥–∂–∞—Ç–∞ ‚Äì –°—Ç—Ä–∞–Ω–¥–∂–∞—Ç–∞ –µ –±–æ–ª–µ–Ω –∏ –≤—ä–∑—Ä–∞—Å—Ç–µ–Ω —Ö—ä—à, –±–∏–≤—à –∑–Ω–∞–º–µ–Ω–æ—Å–µ—Ü. –î—ä—Ä–∂–∏ –∫—Ä—ä—á–º–∞ –≤ –ë—Ä–∞–∏–ª–∞ –∏ –ø–æ–º–∞–≥–∞ –Ω–∞ –¥—Ä—É–≥–∏—Ç–µ —Ö—ä—à–æ–≤–µ. –°–∏–º–≤–æ–ª –µ –Ω–∞ –ø–∞—Ç—Ä–∏–æ—Ç–∏–∑—ä–º –∏ —Å–∞–º–æ–∂–µ—Ä—Ç–≤–∞. –£–º–∏—Ä–∞, –±–µ–∑ –¥–∞ –≤–∏–¥–∏ —Å–≤–æ–±–æ–¥–Ω–∞ –ë—ä–ª–≥–∞—Ä–∏—è.\n4. –•–∞–¥–∂–∏—è—Ç ‚Äì –º–ª–∞–¥ —á–æ–≤–µ–∫, –Ω–æ –ø—Ä–µ–∂–¥–µ–≤—Ä–µ–º–µ–Ω–Ω–æ —Å—ä—Å—Ç–∞—Ä–µ–Ω –æ—Ç —Ç–µ–∂–∫–∞—Ç–∞ –µ–º–∏–≥—Ä–∞–Ω—Ç—Å–∫–∞ —É—á–∞—Å—Ç. –•–∞–¥–∂–∏—è—Ç –µ –µ–¥–∏–Ω  –æ—Ç –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–∏—Ç–µ –Ω–∞ –∫—Ä—ä—á–º–∞—Ç–∞ –Ω–∞ –ó–Ω–∞–º–µ–Ω–æ—Å–µ—Ü–∞, –∫–æ–π—Ç–æ —Å—ä—â–æ —Å–ª—É—à–∞ —Ä–∞–∑–∫–∞–∑–∏—Ç–µ –∏ —Å–ø–æ–º–µ–Ω–∏—Ç–µ –Ω–∞ —Å–≤–æ–∏—Ç–µ –¥—Ä—É–≥–∞—Ä–∏.\n–û—Å–Ω–æ–≤–µ–Ω –∫–æ–Ω—Ñ–ª–∏–∫—Ç: —Å–∞–º–æ–∂–µ—Ä—Ç–≤–∞—Ç–∞ –∏ —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏—Ç–µ –Ω–∞ –µ–º–∏–≥—Ä–∞–Ω—Ç—Å–∫–∏—è –∂–∏–≤–æ—Ç –≤ –∏–º–µ—Ç–æ –Ω–∞ —Å–≤–æ–±–æ–¥–∞—Ç–∞ –Ω–∞ –ë—ä–ª–≥–∞—Ä–∏—è.",
              themes: ["–ü–∞—Ç—Ä–∏–æ—Ç–∏–∑—ä–º", "–°–∞–º–æ–∂–µ—Ä—Ç–≤–∞", "–ë–æ—Ä–±–∞ –∑–∞ –Ω–∞—Ü–∏–æ–Ω–∞–ª–Ω–æ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ", "–ï–º–∏–≥—Ä–∞–Ω—Ç—Å–∫–∏ –∂–∏–≤–æ—Ç"]
          },
          "–Ω–∞—Ä–æ–¥–Ω–∏ –ø–µ—Å–Ω–∏": {
              answer: "–í–∏–¥–æ–≤–µ –±—ä–ª–≥–∞—Ä—Å–∫–∏ –Ω–∞—Ä–æ–¥–Ω–∏ –ø–µ—Å–Ω–∏:\n1. –Æ–Ω–∞—à–∫–∏ –ø–µ—Å–Ω–∏ - –∑–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏ —Å—ä–±–∏—Ç–∏—è –∏ –≥–µ—Ä–æ–∏\n2. –û–±–∏—á–∞–π–Ω–∏ –ø–µ—Å–Ω–∏ - –∑–∞ —Å–µ–º–µ–π–Ω–∏ –∏ —Å–µ–ª—Å–∫–∏ –ø—Ä–∞–∑–Ω–∏—Ü–∏\n3. –õ—é–±–æ–≤–Ω–∏ –ø–µ—Å–Ω–∏ - –∑–∞ —á–æ–≤–µ—à–∫–∏—Ç–µ —á—É–≤—Å—Ç–≤–∞\n4. –¢—Ä—É–¥–æ–≤–∏ –ø–µ—Å–Ω–∏ - —Å–≤—ä—Ä–∑–∞–Ω–∏ —Å —Ä–∞–∑–ª–∏—á–Ω–∏ –∑–∞–Ω–∞—è—Ç–∏\n–ü—Ä–∏–º–µ—Ä: '–ö—Ä–∞–π –í–∞—Ä–¥–∞—Ä–∞ –≤–µ–µ —Å–µ –±—è–ª–æ –∑–Ω–∞–º–µ'",
              characteristics: ["–£—Å—Ç–Ω–æ –ø—Ä–µ–¥–∞–≤–∞–Ω–µ", "–ü–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ –Ω–∞ –º–æ—Ç–∏–≤–∏", "–§–æ–ª–∫–ª–æ—Ä–Ω–∏ –æ–±—Ä–∞–∑–∏"]
          }
      };

      const messages = [
          { sender: 'ai', text: '–ó–¥—Ä–∞–≤–µ–π! –ê–∑ —Å—ä–º BAI –ì–∞–Ω—å–æ, —Ç–≤–æ—è—Ç AI —Å—ä—Ä–µ–≤–æ–ª—é—Ü–∏–æ–Ω–µ—Ä –ø–æ –±—ä–ª–≥–∞—Ä—Å–∫–∏ –µ–∑–∏–∫ –∏ –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞. –ö–∞–∫ –º–æ–≥–∞ –¥–∞ —Ç–∏ –ø–æ–º–æ–≥–Ω–∞ –¥–Ω–µ—Å?' }
      ];

      function renderMessages() {
          chat.innerHTML = '';
          messages.forEach(msg => {
              const div = document.createElement('div');
              div.classList.add('message', msg.sender);
              
              if (msg.sender === 'ai' && msg.formatted) {
                  div.classList.add('formatted-message');
                  div.innerHTML = msg.text;
              } else {
                  div.textContent = msg.text;
              }
              
              chat.appendChild(div);
          });
          // Scroll to bottom
          chat.scrollTop = chat.scrollHeight;
      }

      function showTypingIndicator() {
          const typingDiv = document.createElement('div');
          typingDiv.classList.add('typing-indicator');
          typingDiv.innerHTML = `
              <div class="typing-dot"></div>
              <div class="typing-dot"></div>
              <div class="typing-dot"></div>
          `;
          chat.appendChild(typingDiv);
          chat.scrollTop = chat.scrollHeight;
          return typingDiv;
      }

      function hideTypingIndicator(typingElement) {
          if (typingElement && typingElement.parentNode) {
              typingElement.remove();
          }
      }

      function formatAnswer(answer, examples, rules) {
          let formatted = `<p>${answer.replace(/\n/g, '</p><p>')}</p>`;
          
          if (examples && examples.length > 0) {
              formatted += `<p><strong>–ü—Ä–∏–º–µ—Ä–∏:</strong></p><ul>`;
              examples.forEach(ex => {
                  formatted += `<li>${ex}</li>`;
              });
              formatted += `</ul>`;
          }
          
          if (rules && rules.length > 0) {
              formatted += `<p><strong>–ü—Ä–∞–≤–∏–ª–∞:</strong></p><ul>`;
              rules.forEach(rule => {
                  formatted += `<li>${rule}</li>`;
              });
              formatted += `</ul>`;
          }
          
          return formatted;
      }

      function containsEnglish(text) {
          return /[a-zA-Z]/.test(text);
      }

      function findBestAnswer(userText) {
          const lower = userText.toLowerCase();
          
          if (lower.includes('—á–∞—Å—Ç–∏—Ü') || lower.includes('–≤–∏–¥–æ–≤–µ —á–∞—Å—Ç–∏—Ü')) {
              return {
                  text: formatAnswer(
                      knowledgeBase["—á–∞—Å—Ç–∏—Ü–∏"].answer,
                      knowledgeBase["—á–∞—Å—Ç–∏—Ü–∏"].examples
                  ),
                  formatted: true
              };
          }
          
          if (lower.includes('–Ω–µ ') || lower.includes('–ø—Ä–∞–≤–æ–ø–∏—Å –Ω–∞ –Ω–µ')) {
              return {
                  text: formatAnswer(
                      knowledgeBase["–ø—Ä–∞–≤–æ–ø–∏—Å –Ω–∞ –Ω–µ"].answer,
                      null,
                      knowledgeBase["–ø—Ä–∞–≤–æ–ø–∏—Å –Ω–∞ –Ω–µ"].rules
                  ),
                  formatted: true
              };
          }
          
          if (lower.includes('—ä ') || lower.includes('—å ') || lower.includes('—ä –∏ —å')) {
              return {
                  text: formatAnswer(
                      knowledgeBase["—ä –∏ —å"].answer,
                      knowledgeBase["—ä –∏ —å"].examples
                  ),
                  formatted: true
              };
          }
          
          if (lower.includes('–ø–æ–¥ –∏–≥–æ—Ç–æ') || lower.includes('–≤–∞–∑–æ–≤')) {
              return {
                  text: formatAnswer(
                      knowledgeBase["–ø–æ–¥ –∏–≥–æ—Ç–æ"].answer,
                      knowledgeBase["–ø–æ–¥ –∏–≥–æ—Ç–æ"].quotes
                  ),
                  formatted: true
              };
          }
          
          if (lower.includes('–Ω–µ–º–∏–ª–∏-–Ω–µ–¥—Ä–∞–≥–∏') || lower.includes('–≤–∞–∑–æ–≤')) {
              return {
                  text: formatAnswer(
                      knowledgeBase["–Ω–µ–º–∏–ª–∏-–Ω–µ–¥—Ä–∞–≥–∏"].answer,
                      null,
                      knowledgeBase["–Ω–µ–º–∏–ª–∏-–Ω–µ–¥—Ä–∞–≥–∏"].themes
                  ),
                  formatted: true
              };
          }
          
          if (lower.includes('–Ω–∞—Ä–æ–¥–Ω') || lower.includes('—Ñ–æ–ª–∫–ª–æ—Ä')) {
              return {
                  text: formatAnswer(
                      knowledgeBase["–Ω–∞—Ä–æ–¥–Ω–∏ –ø–µ—Å–Ω–∏"].answer,
                      null,
                      knowledgeBase["–Ω–∞—Ä–æ–¥–Ω–∏ –ø–µ—Å–Ω–∏"].characteristics
                  ),
                  formatted: true
              };
          }
          
          if (lower.includes('–ø—Ä–∞–≤–æ–ø–∏—Å') || lower.includes('–ø—Ä–∞–≤–æ–ø–∏—Å–Ω')) {
              return { 
                  text: '–í –±—ä–ª–≥–∞—Ä—Å–∫–∏—è –µ–∑–∏–∫ –∏–º–∞ –º–Ω–æ–≥–æ –ø—Ä–∞–≤–æ–ø–∏—Å–Ω–∏ –ø—Ä–∞–≤–∏–ª–∞. –ó–∞ –∫–æ–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ –ø—Ä–∞–≤–∏–ª–æ –∏—Å–∫–∞—à –¥–∞ –Ω–∞—É—á–∏—à? –ù–∞–ø—Ä–∏–º–µ—Ä:\n- –ü—Ä–∞–≤–æ–ø–∏—Å –Ω–∞ "–Ω–µ"\n- –£–ø–æ—Ç—Ä–µ–±–∞ –Ω–∞ "—ä" –∏ "—å"\n- –ì–ª–∞–≥–æ–ª–Ω–∏ –æ–∫–æ–Ω—á–∞–Ω–∏—è\n- –ì–ª–∞–≤–Ω–∏ –∏ –º–∞–ª–∫–∏ –±—É–∫–≤–∏',
                  formatted: false
              };
          }
          
          if (lower.includes('–ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞') || lower.includes('–∫–Ω–∏–≥') || lower.includes('–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏')) {
              return { 
                  text: '–ë—ä–ª–≥–∞—Ä—Å–∫–∞—Ç–∞ –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞ –µ –±–æ–≥–∞—Ç–∞ –∏ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω–∞! –ó–∞ –∫–æ–µ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∏–ª–∏ –∞–≤—Ç–æ—Ä –∏—Å–∫–∞—à –¥–∞ –Ω–∞—É—á–∏—à –ø–æ–≤–µ—á–µ? –ù–∞–ø—Ä–∏–º–µ—Ä:\n- "–ü–æ–¥ –∏–≥–æ—Ç–æ" –Ω–∞ –ò–≤–∞–Ω –í–∞–∑–æ–≤\n- "–ñ–µ–ª–µ–∑–Ω–∏—è—Ç —Å–≤–µ—Ç–∏–ª–Ω–∏–∫" –Ω–∞ –ï–ª–∏–Ω –ü–µ–ª–∏–Ω\n- –ë—ä–ª–≥–∞—Ä—Å–∫–∏ –Ω–∞—Ä–æ–¥–Ω–∏ –ø—Ä–∏–∫–∞–∑–∫–∏ –∏ –ø–µ—Å–Ω–∏\n- –ü–æ–µ–∑–∏—è –Ω–∞ –•—Ä–∏—Å—Ç–æ –ë–æ—Ç–µ–≤',
                  formatted: false
              };
          }
          
          if (lower.includes('—Ç–µ—Å—Ç') || lower.includes('—É–ø—Ä–∞–∂–Ω–µ–Ω')) {
              return { 
                  text: '–ò—Å–∫–∞—à –ª–∏ –¥–∞ –Ω–∞–ø—Ä–∞–≤–∏–º —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ? –ú–æ–≥–∞ –¥–∞ —Ç–∏ –∑–∞–¥–∞–º –≤—ä–ø—Ä–æ—Å–∏ –ø–æ:\n1. –ü—Ä–∞–≤–æ–ø–∏—Å\n2. –ì—Ä–∞–º–∞—Ç–∏–∫–∞\n3. –õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–Ω–∏ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è\n4. –ê–≤—Ç–æ—Ä–∏ –∏ —Ç–≤–æ—Ä–±–∏\n–ò–∑–±–µ—Ä–∏ —Ç–µ–º–∞ –∏ –∑–∞–ø–æ—á–≤–∞–º–µ!',
                  formatted: false
              };
          }
          
          if (lower.includes('–∫–æ–Ω—Å—É–ª—Ç–∞—Ü–∏—è') || lower.includes('—É—á–∏—Ç–µ–ª')) {
              return { 
                  text: '–ê–∫–æ –∏–º–∞—à —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏ —Å –Ω—è–∫–æ—è —Ç–µ–º–∞, –Ω–∞–∏—Å—Ç–∏–Ω–∞ –µ –¥–æ–±—Ä–∞ –∏–¥–µ—è –¥–∞ –ø–æ—Ç—ä—Ä—Å–∏—à –ø–æ–º–æ—â –æ—Ç —É—á–∏—Ç–µ–ª—è —Å–∏. –ú–æ–≥–∞ –¥–∞ —Ç–∏ –ø–æ–º–æ–≥–Ω–∞ —Å:\n- –û–±—è—Å–Ω–µ–Ω–∏–µ –Ω–∞ —Ç—Ä—É–¥–Ω–∏ —Ç–µ–º–∏\n- –ü—Ä–∏–º–µ—Ä–∏ –∏ –ø—Ä–∞–≤–∏–ª–∞\n- –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∑–∞ –∏–∑–ø–∏—Ç\n–ù–æ –∑–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–∞–Ω–∞ –ø–æ–º–æ—â —É—á–∏—Ç–µ–ª—è—Ç –µ –Ω–∞–π-–¥–æ–±—Ä–∏—è—Ç –∏–∑–±–æ—Ä!',
                  formatted: false
              };
          }
          
          const randomResponses = [
              "–ò–Ω—Ç–µ—Ä–µ—Å–µ–Ω –≤—ä–ø—Ä–æ—Å! –ú–æ–∂–µ—à –ª–∏ –¥–∞ –≥–æ –∑–∞–¥–∞–¥–µ—à –ø–æ-–∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ?",
              "–í—Å–µ –æ—â–µ —Å–µ —É—á–∞, –Ω–æ —â–µ —Å–µ –æ–ø–∏—Ç–∞–º –¥–∞ –ø–æ–º–æ–≥–Ω–∞. –ó–∞ –∫–æ—è —Ç–æ—á–Ω–æ —Ç–µ–º–∞ –ø–∏—Ç–∞—à?",
              "–ò–º–∞–º –º–Ω–æ–≥–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∑–∞ –±—ä–ª–≥–∞—Ä—Å–∫–∏ –µ–∑–∏–∫ –∏ –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞. –§–æ–∫—É—Å–∏—Ä–∞–π –≤—ä–ø—Ä–æ—Å–∞ —Å–∏ –º–∞–ª–∫–æ –ø–æ–≤–µ—á–µ.",
              "–ü–æ–ø–∏—Ç–∞–π –º–µ –∑–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ –ø—Ä–∞–≤–∏–ª–æ, –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∏–ª–∏ –∞–≤—Ç–æ—Ä –∏ —â–µ —Ç–∏ –ø–æ–º–æ–≥–Ω–∞!"
          ];
          return { 
              text: randomResponses[Math.floor(Math.random() * randomResponses.length)],
              formatted: false
          };
      }

      chatForm.addEventListener('submit', function(e) {
          e.preventDefault();
          const userText = chatInput.value.trim();
          if (!userText) return;
          
          if (containsEnglish(userText)) {
              const ganioPhrases = [
                  "–ê–±–µ, –º–æ–º–∫–æ, —Ç—É–∫–∞ –¥–∞ –Ω–µ —Ç–∏ –µ –ê–º–µ—Ä–∏–∫–∞?! –ü–∏—à–∏ –Ω–∞ –∫–∏—Ä–∏–ª–∏—Ü–∞, —á–µ –º–µ —Ö–≤–∞—â–∞ —Å—Ä–∞–º–∞!",
                  "–Ø –ø–∞–∫! –ö–∞–∫–≤–∏ —Å–∞ —Ç–µ–∑–∏ –ª–∞—Ç–∏–Ω—Å–∫–∏ –º–∞—Ü–∞–Ω–∏—Ü–∏? –î–∞ –Ω–µ —Å–∏ –≤ –•–æ–ª–∏–≤—É–¥?!",
                  "–ì–∞–Ω—å–æ –Ω–µ –≥–æ–≤–æ—Ä–∏ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏! –ö–∏—Ä–∏–ª–∏—Ü–∞, –∏–ª–∏ —â–µ —Ç–µ –≤—ä—Ä–Ω–∞ –≤ —Ç—Ä–µ—Ç–∏ –∫–ª–∞—Å!",
                  "–ú–æ–ª—è —Ç–∏ —Å–µ, –∫–∞—Ç–æ —â–µ –ø–∏—à–µ—à –Ω–∞ –ª–∞—Ç–∏–Ω–∏—Ü–∞, –≤—ä—Ä–≤–∏ –ø—Ä–∏ –∞–Ω–≥–ª–∏–π—Å–∫–∏—è —Ü–∞—Ä, –Ω–µ –ø—Ä–∏ –º–µ–Ω–µ!",
                  "–ö–∞—Ç–æ –≤–∏–¥—è –ª–∞—Ç–∏–Ω–∏—Ü–∞ –∏ –º–∏ –ø—Ä–µ—Å—ä—Ö–≤–∞ —Ä–∞–∫–∏—è—Ç–∞! –ü–∏—à–∏ –∫–∞–∫—Ç–æ –±–∞–±–∞ —Ç–∏ —Ç–µ –µ —É—á–∏–ª–∞!",
                  "–¢–æ–≤–∞ –¥–∞ –Ω–µ —Ç–∏ –µ —á–∞—Ç —Å –ú–∞–∫–¥–æ–Ω–∞–ª–¥—Å?! –¢—É–∫–∞ –∫–∏—Ä–∏–ª–∏—Ü–∞—Ç–∞ –µ –∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–∞, –º–æ–º–∫–æ!",
                  "–ü–∏—à–∞ —Ç–∏ –æ—Ç –ë—ä–ª–≥–∞—Ä–∏—è, –Ω–µ –æ—Ç –¢–µ–∫—Å–∞—Å! –ê–π–¥–µ –ø–∞–∫ –∏ —Ç–æ–∑–∏ –ø—ä—Ç —Å –±—É–∫–≤–∏ –Ω–∞ –Ω–∞—Ä–æ–¥–∞!",
                  "–ù–∞ –º–µ–Ω –º–∏ –¥–∞–π '—ä', '—â', '—à'... –¥—Ä—É–≥–æ—Ç–æ –≥–æ –ø—Ä–∞—Ç–∏ –Ω–∞ –Ω—è–∫–æ–π –ì—É–≥—ä–ª –¢—Ä–∞–Ω—Å–ª–µ–π—Ç!",
                  "–ú–æ–º–∫–æ, –∞–∫–æ –Ω–µ –≤–∏–¥—è –µ–¥–Ω–∞ '—á' –∏ –µ–¥–Ω–∞ '—é' –≤ –∏–∑—Ä–µ—á–µ–Ω–∏–µ—Ç–æ, –Ω–µ–º–∞ –ø–æ–≤–µ—á–µ –¥–∞ —Ç–∏ –æ—Ç–≥–æ–≤–∞—Ä—è–º!"
              ];
              const randomGanioMsg = ganioPhrases[Math.floor(Math.random() * ganioPhrases.length)];
              messages.push({ sender: 'user', text: userText });
              messages.push({ sender: 'ai', text: randomGanioMsg, formatted: false });
              renderMessages();
              chatInput.value = '';
              return;
          }
          
          messages.push({ sender: 'user', text: userText });
          renderMessages();
          chatInput.value = '';
          
          const typingElement = showTypingIndicator();
          
          setTimeout(() => {
              hideTypingIndicator(typingElement);
              
              const aiResponse = findBestAnswer(userText);
              messages.push({ 
                  sender: 'ai', 
                  text: aiResponse.text,
                  formatted: aiResponse.formatted
              });
              renderMessages();
          }, 1500);
      });

      quickQuestions.forEach(button => {
          button.addEventListener('click', function() {
              const question = this.textContent;
              chatInput.value = question;
              chatForm.dispatchEvent(new Event('submit'));
          });
      });

      // Initial render
      renderMessages();
  });
  </script>
</body>
</html>